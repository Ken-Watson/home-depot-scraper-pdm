import requests
import json

url = "https://www.homedepot.com/federation-gateway/graphql?opname=searchModel"

payload = json.dumps({
  "operationName": "searchModel",
  "variables": {
    "skipInstallServices": False,
    "skipKPF": False,
    "skipSpecificationGroup": False,
    "skipSubscribeAndSave": False,
    "storefilter": "ALL",
    "channel": "DESKTOP",
    "additionalSearchParams": {
      "sponsored": True,
      "mcvisId": "28273850867552700872913128127147982496",
      "deliveryZip": "90255",
      "plp": True
    },
    "filter": {},
    "navParam": "5yc1vZbm92",
    "orderBy": {
      "field": "TOP_SELLERS",
      "order": "ASC"
    },
    "pageSize": 24,
    "startIndex": 0,
    "storeId": "1002"
  },
  "query": "query searchModel($storeId: String, $zipCode: String, $skipInstallServices: Boolean = true, $startIndex: Int, $pageSize: Int, $orderBy: ProductSort, $filter: ProductFilter, $skipKPF: Boolean = false, $skipSpecificationGroup: Boolean = false, $skipSubscribeAndSave: Boolean = false, $keyword: String, $navParam: String, $storefilter: StoreFilter = ALL, $itemIds: [String], $channel: Channel = DESKTOP, $additionalSearchParams: AdditionalParams, $loyaltyMembershipInput: LoyaltyMembershipInput) {\n  searchModel(keyword: $keyword, navParam: $navParam, storefilter: $storefilter, storeId: $storeId, itemIds: $itemIds, channel: $channel, additionalSearchParams: $additionalSearchParams, loyaltyMembershipInput: $loyaltyMembershipInput) {\n    metadata {\n      hasPLPBanner\n      categoryID\n      analytics {\n        semanticTokens\n        dynamicLCA\n        __typename\n      }\n      canonicalUrl\n      searchRedirect\n      clearAllRefinementsURL\n      contentType\n      h1Tag\n      isStoreDisplay\n      productCount {\n        inStore\n        __typename\n      }\n      stores {\n        storeId\n        storeName\n        address {\n          postalCode\n          __typename\n        }\n        nearByStores {\n          storeId\n          storeName\n          distance\n          address {\n            postalCode\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      __typename\n    }\n    products(startIndex: $startIndex, pageSize: $pageSize, orderBy: $orderBy, filter: $filter) {\n      identifiers {\n        storeSkuNumber\n        specialOrderSku\n        canonicalUrl\n        brandName\n        itemId\n        productLabel\n        modelNumber\n        productType\n        parentId\n        isSuperSku\n        __typename\n      }\n      installServices(storeId: $storeId, zipCode: $zipCode) @skip(if: $skipInstallServices) {\n        scheduleAMeasure @skip(if: $skipInstallServices)\n        gccCarpetDesignAndOrderEligible @skip(if: $skipInstallServices)\n        __typename\n      }\n      itemId\n      dataSources\n      media {\n        images {\n          url\n          type\n          subType\n          sizes\n          __typename\n        }\n        __typename\n      }\n      pricing(storeId: $storeId) {\n        value\n        alternatePriceDisplay\n        alternate {\n          bulk {\n            pricePerUnit\n            thresholdQuantity\n            value\n            __typename\n          }\n          unit {\n            caseUnitOfMeasure\n            unitsOriginalPrice\n            unitsPerCase\n            value\n            __typename\n          }\n          __typename\n        }\n        original\n        mapAboveOriginalPrice\n        message\n        preferredPriceFlag\n        promotion {\n          type\n          description {\n            shortDesc\n            longDesc\n            __typename\n          }\n          dollarOff\n          percentageOff\n          savingsCenter\n          savingsCenterPromos\n          specialBuySavings\n          specialBuyDollarOff\n          specialBuyPercentageOff\n          dates {\n            start\n            end\n            __typename\n          }\n          promotionTag\n          __typename\n        }\n        specialBuy\n        unitOfMeasure\n        __typename\n      }\n      reviews {\n        ratingsReviews {\n          averageRating\n          totalReviews\n          __typename\n        }\n        __typename\n      }\n      availabilityType {\n        discontinued\n        type\n        buyable\n        status\n        __typename\n      }\n      badges(storeId: $storeId) {\n        name\n        label\n        __typename\n      }\n      details {\n        collection {\n          collectionId\n          name\n          url\n          __typename\n        }\n        highlights\n        installation {\n          serviceType\n          __typename\n        }\n        __typename\n      }\n      favoriteDetail {\n        count\n        __typename\n      }\n      fulfillment(storeId: $storeId, zipCode: $zipCode) {\n        backordered\n        backorderedShipDate\n        bossExcludedShipStates\n        excludedShipStates\n        seasonStatusEligible\n        fulfillmentOptions {\n          type\n          fulfillable\n          services {\n            type\n            hasFreeShipping\n            freeDeliveryThreshold\n            locations {\n              curbsidePickupFlag\n              isBuyInStoreCheckNearBy\n              distance\n              inventory {\n                isOutOfStock\n                isInStock\n                isLimitedQuantity\n                isUnavailable\n                quantity\n                maxAllowedBopisQty\n                minAllowedBopisQty\n                __typename\n              }\n              isAnchor\n              locationId\n              storeName\n              state\n              type\n              storePhone\n              __typename\n            }\n            deliveryTimeline\n            deliveryDates {\n              startDate\n              endDate\n              __typename\n            }\n            deliveryCharge\n            dynamicEta {\n              hours\n              minutes\n              __typename\n            }\n            totalCharge\n            __typename\n          }\n          __typename\n        }\n        anchorStoreStatus\n        anchorStoreStatusType\n        onlineStoreStatus\n        onlineStoreStatusType\n        __typename\n      }\n      info {\n        hasSubscription\n        isBuryProduct\n        isSponsored\n        isGenericProduct\n        isLiveGoodsProduct\n        sponsoredBeacon {\n          onClickBeacon\n          onViewBeacon\n          __typename\n        }\n        sponsoredMetadata {\n          campaignId\n          placementId\n          slotId\n          __typename\n        }\n        globalCustomConfigurator {\n          customExperience\n          __typename\n        }\n        returnable\n        hidePrice\n        productSubType {\n          name\n          link\n          __typename\n        }\n        categoryHierarchy\n        samplesAvailable\n        customerSignal {\n          previouslyPurchased\n          __typename\n        }\n        productDepartmentId\n        productDepartment\n        augmentedReality\n        ecoRebate\n        quantityLimit\n        sskMin\n        sskMax\n        unitOfMeasureCoverage\n        wasMaxPriceRange\n        wasMinPriceRange\n        swatches {\n          isSelected\n          itemId\n          label\n          swatchImgUrl\n          url\n          value\n          __typename\n        }\n        totalNumberOfOptions\n        paintBrand\n        dotComColorEligible\n        classNumber\n        __typename\n      }\n      keyProductFeatures @skip(if: $skipKPF) {\n        keyProductFeaturesItems {\n          features {\n            name\n            refinementId\n            refinementUrl\n            value\n            __typename\n          }\n          __typename\n        }\n        __typename\n      }\n      specificationGroup @skip(if: $skipSpecificationGroup) {\n        specifications {\n          specName\n          specValue\n          __typename\n        }\n        specTitle @skip(if: $skipSpecificationGroup)\n        __typename\n      }\n      subscription @skip(if: $skipSubscribeAndSave) {\n        defaultfrequency @skip(if: $skipSubscribeAndSave)\n        discountPercentage @skip(if: $skipSubscribeAndSave)\n        subscriptionEnabled @skip(if: $skipSubscribeAndSave)\n        __typename\n      }\n      sizeAndFitDetail {\n        attributeGroups {\n          attributes {\n            attributeName\n            dimensions\n            __typename\n          }\n          dimensionLabel\n          productType\n          __typename\n        }\n        __typename\n      }\n      dataSource\n      __typename\n    }\n    id\n    searchReport {\n      totalProducts\n      didYouMean\n      correctedKeyword\n      keyword\n      pageSize\n      searchUrl\n      sortBy\n      sortOrder\n      startIndex\n      __typename\n    }\n    relatedResults {\n      universalSearch {\n        title\n        __typename\n      }\n      relatedServices {\n        label\n        __typename\n      }\n      visualNavs {\n        label\n        imageId\n        webUrl\n        categoryId\n        imageURL\n        __typename\n      }\n      visualNavContainsEvents\n      relatedKeywords {\n        keyword\n        __typename\n      }\n      __typename\n    }\n    taxonomy {\n      brandLinkUrl\n      breadCrumbs {\n        browseUrl\n        creativeIconUrl\n        deselectUrl\n        dimensionId\n        dimensionName\n        label\n        refinementKey\n        url\n        __typename\n      }\n      __typename\n    }\n    templates\n    partialTemplates\n    dimensions {\n      label\n      refinements {\n        refinementKey\n        label\n        recordCount\n        selected\n        imgUrl\n        url\n        nestedRefinements {\n          label\n          url\n          recordCount\n          refinementKey\n          __typename\n        }\n        __typename\n      }\n      collapse\n      dimensionId\n      isVisualNav\n      isVisualDimension\n      isNumericFilter\n      isColorSwatch\n      nestedRefinementsLimit\n      visualNavSequence\n      __typename\n    }\n    orangeGraph {\n      universalSearchArray {\n        pods {\n          title\n          description\n          imageUrl\n          link\n          isProContent\n          recordType\n          __typename\n        }\n        info {\n          title\n          __typename\n        }\n        __typename\n      }\n      productTypes\n      intents\n      orderNumber\n      __typename\n    }\n    appliedDimensions {\n      label\n      refinements {\n        label\n        refinementKey\n        url\n        __typename\n      }\n      isNumericFilter\n      __typename\n    }\n    __typename\n  }\n}\n"
})
headers = {
  'authority': 'www.homedepot.com',
  'accept': '*/*',
  'accept-language': 'en-US,en;q=0.9',
  'apollographql-client-name': 'general-merchandise',
  'apollographql-client-version': '0.0.0',
  'content-type': 'application/json',
  'cookie': 'HD_DC=origin; akacd_usbeta=3861671737~rv=12~id=1c1c22e6349013d2ee2dfaf8cf237726; at_check=true; AMCVS_F6421253512D2C100A490D45%40AdobeOrg=1; THD_PERSIST=; THD_CACHE_NAV_PERSIST=; DELIVERY_ZIP=90255; DELIVERY_ZIP_TYPE=DEFAULT; thda.s=ce67c5a4-e770-bfb1-3e6b-1b6ca0ad8335; thda.u=fcb84513-bc80-6a95-e4e2-2c75d90ebf6e; _px_f394gi7Fvmc43dfg_user_id=ZTBjNzgwZTAtZjNiMy0xMWVkLWFmNjEtNjcxMmZiOThkYzky; _pxvid=e263777b-f3b3-11ed-b3b4-537274617263; ajs_anonymous_id=58f013c9-1777-41ed-9055-3f145b7848f2; _meta_googleGtag_ga_library_loaded=1684218946105; _meta_facebookPixel_beaconFired=1684218946114; _meta_bing_beaconFired=1684218946116; _meta_neustar_mcvisid=28273850867552700872913128127147982496; _meta_movableInk_mi_u=58f013c9-1777-41ed-9055-3f145b7848f2; _meta_metarouter_timezone_offset=420; thda.m=28273850867552700872913128127147982496; _meta_tapAd_id=3a8fe0b7-805b-44ec-9530-22dd4a5148a1; _meta_revjet_revjet_vid=6051228214754651592; trx=6051228214754651592; aam_mobile=seg%3D1131078; aam_uuid=28360705775739380982885363098911838421; _meta_amobee_uid=7139632328947074858; _meta_yahooMedia_yahoo_id=y-M_mrmsNE2r2w5phIv0bfWb.CB0X2Ooxwhlbt~A; _meta_inMarket_userNdat=F5574F2D452463645F701535027EF34E; _meta_neustar_fabrickId=E1:3xJPqekK8_-xtzSJAiTjDN9KEO17C_ISFZJBLDBh_xShhEwKizPBmdGB3pqkWimTfqkGdzIiBY8X3BDW3zOxzoGH2YSffHZFQ-eVqz4KQKw; _meta_neustar_tuid=206820904518001832175; _meta_mediaMath_mm_id=43b66463-2444-4f00-bdc0-b52463ec4189; _meta_mediaMath_cid=43b66463-2444-4f00-bdc0-b52463ec4189; _gcl_au=1.1.863359750.1684218947; _ga_9H2R4ZXG4J=GS1.1.1684218947.1.0.1684218947.60.0.0; _ga=GA1.1.355040887.1684218946; _meta_adobe_aam_uuid=28360705775739380982885363098911838421; _meta_adobe_neustar=1684218952142; _meta_adobe_google=1684218952144; _meta_adobe_microsoft=1684218952145; _meta_neustar_aam=28360705775739380982885363098911838421; _meta_adobe_fire={"xandr":false,"revjet":true,"mediaMath":true}; _meta_googleGtag_ga=GA1.1.355040887.1684218946; LPVID=FkY2MwYjVmNzJhNTY1YjE1; QuantumMetricUserID=f1af985929fe774d7b67c5d165cbc3cb; THD_NR=1; THD_SESSION=; THD_CACHE_NAV_SESSION=; _meta_pinterest_pin-unauth=dWlkPU1HUXhPV1EyTldRdE5UWTBNQzAwWWpBMExUazVOVGd0WVRBd09UWmpOREJsTjJJNA; _meta_pinterest_derived_epik_failure=not found; _meta_acuityAds_auid=781522871369; _meta_acuityAds_cauid=auid=781522871369; AKA_A2=A; bm_sz=4DD4849C9513DF040FB3F63BA5ADD37A~YAAQiXfZFxEBACmIAQAAWetENRMWUPh8IExxNtBu68OAlyu+GPhcUe7WIm/vq4TTKAH7h2iRAXKNLSnywfPwemQBVuIguhUTJ9gR+OhP5fu4qXzVGDR7jDAPjENDZ9NFhmwIS31M0Tae7Reo69Sy/3MU1XSxyg7VhDJ8NGJpHdiupRLoxt6E4ygRY+NUDRshSUDzj1Qa8rFRjOJCfCpHm2b/aAig64GfKzpPk1Ek5XYrHg3XzCDGpQFHBCDRRJ/0TwsgTxPQYwvjkh6uM1Aii31BOaBCb/BDmwmNR+mwAlOQDQU5yVxPNW5tPwDVWVaekHGOum/rQh94iA1j3CQ=~3486276~3159348; ak_bmsc=0B9C521A90264B9F94FC91311C10D910~000000000000000000000000000000~YAAQiXfZF5gBACmIAQAA/PBENROXXyq0I7ziYDovITaSiMbBiMoTB9zKY+ysUM1x7tSsEAKA+wMjbIf0kuRuEVWFgzS5pVStjosnGeFZSiFS4K8qy+LYj4Gh/p44s2HaTyD4iH1Oh7tO7CBMmhssAhdB1ig4Edyo/D72ZBPNae21ZW2IA/jGByVBFS+dos8wD4cQdbkOaVwoLIYTM0ja7RBKhmNmJ3L+tYpSVD3vcLAPthXCrGeXxg0vVLuOG3JhXwa7oFrlyIjYqbVFoT/QAQun21rlq7krDUKtuo2qXFSiZ2L7feT6EpJI9y8yyRLXrInxPpEdniBJPGVDH192hzoIBVyHdZLzUnRnf9PWZLJfEZN1gfdu4rqq7cPX6Sz+WMzpiSPFRCSYyTeVAWN0yhg1XyKVxISg0Ycqaq/ru8UrbxggI869npnUNnLgE3mOZoZJDFJ/b1Cb6esByBy5dNBLzfttupoTVBzB5bU5EzltMAgy/FEjryhI41JW; THD_LOCALIZER=%7B%22WORKFLOW%22%3A%22GEO_LOCATION%22%2C%22THD_FORCE_LOC%22%3A%221%22%2C%22THD_INTERNAL%22%3A%220%22%2C%22THD_LOCSTORE%22%3A%221002%2BHuntington%20Park%20-%20Huntington%20Park%2C%20CA%2B%22%2C%22THD_STRFINDERZIP%22%3A%2290255%22%2C%22THD_STORE_HOURS%22%3A%221%3B7%3A00-20%3A00%3B2%3B6%3A00-22%3A00%3B3%3B6%3A00-22%3A00%3B4%3B6%3A00-22%3A00%3B5%3B6%3A00-22%3A00%3B6%3B6%3A00-22%3A00%3B7%3B6%3A00-22%3A00%22%2C%22THD_STORE_HOURS_EXPIRY%22%3A1684524484%7D; AMCV_F6421253512D2C100A490D45%40AdobeOrg=1585540135%7CMCMID%7C28273850867552700872913128127147982496%7CMCAAMLH-1685125689%7C9%7CMCAAMB-1685125689%7C6G1ynYcLPuiQxYZrsz_pkqfLG9yMXBpb2zX5dvJdYQJzPXImdj0y%7CMCOPTOUT-1684528089s%7CNONE%7CMCCIDH%7C-887323717%7CvVersion%7C4.4.0; _meta_metarouter_sessionID=1684520889584; QSI_SI_2lVW226zFt4dVJ3_intercept=true; QuantumMetricSessionID=3f34c5781c602bd1a97d612f99b3ede0; LPSID-31564604=e-H4OBAjRR-PgGGke7tWUQ; _meta_mediaMath_iframe_counter=5; ecrSessionId=13C9E90B800C726ED88D523A19C4AB11; s_sq=%5B%5BB%5D%5D; IN_STORE_API_SESSION=TRUE; QSI_HistorySession=https%3A%2F%2Fwww.homedepot.com%2F~1684521686489%7Chttps%3A%2F%2Fwww.homedepot.com%2Fc%2Fsite_map~1684521697452%7Chttps%3A%2F%2Fwww.homedepot.com%2Fb%2FLumber-Composites%2FN-5yc1vZbqpg~1684521704276%7Chttps%3A%2F%2Fwww.homedepot.com%2Fb%2FLumber-Composites%2FN-5yc1vZbqpg%3FcatStyle%3DShowProducts~1684521747837%7Chttps%3A%2F%2Fwww.homedepot.com%2Fb%2FLumber-Composites%2FN-5yc1vZbqpg~1684522395911; _px=yeV3Etb1Qwq1tmF6lnsUciWFHAWWe0XaYM4zuX8HZVbosMb5e2UG2giGwnMZ8rrNCe7YDeHfeBUgAAdQeuE/tw==:1000:yQzTwEr/vNtJWP/ArnmzQoV1pMqGDP0IF78YcxWu7GZrDWxUE2AtPU0Ez5/CB6Vr8hceC5PyvJNUs9RG1AAWP7pFguDtekfJbBOpeuYmP4uT3TvCCQeJsQsSZUYHRAIjB5/54IECMvZ7gvG8cH1JSUi3y7lFZJZ32NDrxPpnZa0IfQ8y/dIq4AebBA/NVSo1jEba+LCMPGYcHZalF9OtvaI5yJcf2ByPK8fA6AAymem3hon79ePNYTKwxgc7v6F07mryo2vCkatY0a8tP9zW0g==; _pxde=1d1cce21a243d3cb31bcda13e974d9433401d01b0a45e85b443c962cee6d7b5e:eyJ0aW1lc3RhbXAiOjE2ODQ1MjI0MjUxODd9; forterToken=469c7143a77b45b7abef6addc9948a1e_1684522419425__UDF43_13ck; s_pers=%20s_nr365%3D1684522419567-Repeat%7C1716058419567%3B%20s_dslv%3D1684522419571%7C1779130419571%3B; s_sess=%20s_pv_pName%3Dlumber%2520%2526%2520composites%3B%20s_pv_pType%3Dcategory%3B%20s_pv_cmpgn%3D%3B%20s_pv_pVer%3Dcategory%253Al1%253Aversion%253Agen2%3B%20stsh%3D%3B%20s_cc%3Dtrue%3B; akavpau_prod=1684522748~id=7fe1764be46d35558d6665be65733737; _abck=AF26253D9600B86CC0283E9DF532E6A9~0~YAAQiXfZF2zbBCmIAQAAqbZcNQlypTuYugdeRi47V6oPbnIJqxvfQoWL55neZyElCNBCx/gM+rp9Suf6Xq/GR7lyTCwYNX57yUU7ek/44QRDF+E+ps5UnpYP+GquJuupF5NYGMkHOlo/wBdpo3py1jOwjIEZ4A1sDdI3AVuShOjw1DZO6JENIJbg7JB7cdrH6GZ3uwSQQi7pLurVjY15HsQAtQhbwFlGGoyc89TzJ7WGfleLZPfN+PCPBxAldwGBLl/9GJ8opHRt2rvSkEMJz8keki7t4gGOQXe3ulKQ7M6v6IpPU+IDyMfdKw6GpreuRkD4yg6AwMU/pP5opY8yBGjD81KjYzGzmz+fd4Fa94HkcIG5H8nX2JW9N8WyISXDV7o=~-1~-1~-1; RT="z=1&dm=www.homedepot.com&si=6ecf3ac7-73d2-4301-936e-46c991e1ea8c&ss=lhuw8r2s&sl=z&tt=mxl&obo=e&rl=1&ld=xc3m&r=39sim2pi&ul=xc3m&hd=xcdg"; mbox=PC#aa417a1b70784b62afa3f687373a02d8.35_0#1747767244|session#0638b4fa664f46e58bb9b005847bb668#1684524304; _abck=AF26253D9600B86CC0283E9DF532E6A9~-1~YAAQLqrWF7tq2AiIAQAAXLx8NQkkLiMEO7GM039La/L548tWs7JWXie9Mr1qvxnjdCTSIhlZaCuHAApQOWxSnJ/C/hyTqEo9/vPA+ZHcSkf4h7dlm4ys7Lu98Sy+wQ7ruGJhCyfDQRrHY0DHU3tNVMMe9wr+yZv5q4zoEjLVOMpXBoN2JO7bHM/fwScA98dVVHPL8Y4XHMZ6J3gjD1L8SsMIlXov8wCdBPRBUb+wCOrXXbOdJrywyKf9E3/5ti8C39K9MoRRZGc2vvPyFEpkWiDLsBagJ4UP/y2BuL8JSkJNjEIhJ63yZSdLwokwBUw08Z0qJZWY+Wal0vC5eHy/cl8QrqdiHc10zEbpYWbuked09jdhOkeYpnaK/Tjw8EDrkBgWtYJyRHcQspYOew==~0~-1~-1',
  'dnt': '1',
  'newrelic': 'eyJ2IjpbMCwxXSwiZCI6eyJ0eSI6IkJyb3dzZXIiLCJhYyI6IjE4MzM0NTUiLCJhcCI6IjI2NDg3MzI0MyIsImlkIjoiYWUxNTQ5NmYzNzdjZjMxNyIsInRyIjoiZjNjY2ZlMmRhYjRjMGJmNGQ1NDhlMjIyMDEyN2E3OTAiLCJ0aSI6MTY4NDUyMjQ0NDQ5NiwidGsiOiIxOTUyNTQ0In19',
  'origin': 'https://www.homedepot.com',
  'referer': 'https://www.homedepot.com/b/Electrical-Doorbells/N-5yc1vZbm92?catStyle=ShowProducts',
  'sec-ch-ua': '"Microsoft Edge";v="113", "Chromium";v="113", "Not-A.Brand";v="24"',
  'sec-ch-ua-mobile': '?0',
  'sec-ch-ua-platform': '"Windows"',
  'sec-fetch-dest': 'empty',
  'sec-fetch-mode': 'cors',
  'sec-fetch-site': 'same-origin',
  'traceparent': '00-f3ccfe2dab4c0bf4d548e2220127a790-ae15496f377cf317-01',
  'tracestate': '1952544@nr=0-1-1833455-264873243-ae15496f377cf317----1684522444496',
  'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/113.0.0.0 Safari/537.36 Edg/113.0.1774.42',
  'x-api-cookies': '{"x-user-id":"fcb84513-bc80-6a95-e4e2-2c75d90ebf6e"}',
  'x-current-url': '/b/Lumber-Composites/N-5yc1vZbqpg',
  'x-debug': 'false',
  'x-experience-name': 'general-merchandise',
  'x-hd-dc': 'origin'
}

response = requests.request("POST", url, headers=headers, data=payload)

print(response.text)
